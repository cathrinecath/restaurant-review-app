{"version":3,"sources":["user.png","no-image-icon.jpg","ggl_map/Map.js","NewReviewInput.js","Restaurant.js","NewRestaurantInput.js","StarFilter.js","App.js","registerServiceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","Map","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onMarkerDragEnd","evt","setState","defaultCenter","lat","latLng","lng","fetch","fetchLocalJson","newMarkers","newAddRestaurant","then","result","json","forEach","rest","push","Number","long","source","restaurantName","address","geometry","details","average_rating","ratings","reviews","has_reviews","addMarkers","addRestaurants","state","defaultZoom","_this2","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","console","log","error","code","PERMISSION_DENIED","_this3","proxy","response","results","data","location","name","vicinity","place_id","rating","scope","getLocation","_this4","icon","url","scaledSize","width","height","GoogleMapDisplay","withScriptjs","withGoogleMap","react_default","a","createElement","lib","center","zoom","onClick","onCenterChange","e","updateMapCenter","draggable","onDragEnd","markers","map","marker","index","key","googleMapURL","loadingElement","style","containerElement","id","mapElement","React","Component","NewReviewInput","updateAuthor","author","target","value","updateStars","stars","updateComment","comment","clearField","preventDefault","handleRate","_ref","maxRating","handleSubmit","handleReviewSubmit","Modal","open","onClose","closeIcon","size","dimmer","Form","onSubmit","Header","Field","type","onChange","Rating","onRate","TextArea","placeholder","ref","r","inputRef","control","Button","Restaurant","hideModal","showAddReview","showModal","fetchDetails","restaurant","opening_hours_text","website","phone","opening_hours","weekday_text","international_phone_number","addReviews","concat","averageRateValueResult","totRateSum","length","averageRatingCalculation","myRateValue","totalSum","i","handleClick","toogleDetails","author_name","elements","text","relative_time_description","profile_photo_url","logo","showReviews","toogleReviews","showDetails","nextProps","imageurl","className","primary","marginBottom","src_NewReviewInput","Transition","Group","animation","duration","Segment","vertical","Image","src","t","secondary","noImage","alt","defaultRating","disabled","NewRestaurantInput","updateName","Input","focus","StarFilter","updateMinValue","minValue","updateMaxValue","maxValue","handleRateFilter","fluid","min","max","Icon","App","filter","m","newRest","restaurants","addRestaurant","newLat","newLng","formatted_address","showComponent","addMarker","minRateValue","maxRateValue","alert","filteredRate","Grid","Row","textAlign","src_StarFilter_0","columns","stackable","Column","src_ggl_map_Map","raised","src_Restaurant_0","src_NewRestaurantInput_0","isLocalhost","Boolean","window","hostname","match","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","ReactDOM","render","src_App_0","head","document","getElementById","URL","process","origin","addEventListener","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"2EAAAA,EAAAC,QAAA,0vFCAAD,EAAAC,QAAiBC,EAAAC,EAAuB,oWC+HzBC,sBApHd,SAAAA,EAAYC,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KASPQ,gBAAkB,SAACC,GAClBR,EAAKS,SAAS,CAACC,cAAe,CAACC,IAAMH,EAAII,OAAOD,MAAOE,IAAML,EAAII,OAAOC,SACxEb,EAAKc,SAZYd,EAgClBe,eAAiB,WAChB,IAAIC,EAAa,GACbC,EAAmB,GAEvBH,MAAM,aACLI,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAE,GACLA,EAAKC,QAAQ,SAAAC,GACZN,EAAWO,KAAK,CAACZ,IAAMa,OAAOF,EAAKX,KAAME,IAAMW,OAAOF,EAAKG,MAAOC,OAAS,eAC3ET,EAAiBM,KAAK,CAACI,eAAgBL,EAAKK,eAAgBC,QAASN,EAAKM,QAASC,SAAS,CAAElB,IAAQW,EAAKX,IAAKE,IAAQS,EAAKG,MAAOK,QAAQ,GAAIC,eAAiBT,EAAKS,eAAgBC,QAASV,EAAKW,QAASC,aAAa,EAAMR,OAAQ,iBAEzO1B,EAAKD,MAAMoC,WAAWnB,GACtBhB,EAAKD,MAAMqC,eAAenB,MAzC3BjB,EAAKqC,MAAQ,CACb3B,cAAgB,CAACC,KAAM,QAAWE,IAAK,UAClCyB,YAAc,IALFtC,6EAeL,IAAAuC,EAAApC,KAEZqC,UAAUC,YAAYC,mBAAmB,SAACC,GACzCJ,EAAK9B,SAAS,CAACC,cAAe,CAACC,IAAMgC,EAASC,OAAOC,SAAUhC,IAAM8B,EAASC,OAAOE,aACrFP,EAAKxB,iBACLgC,QAAQC,IAAI,eACZT,EAAKzB,SAEN,SAACmC,GACIA,EAAMC,OAASD,EAAME,mBACxBZ,EAAKxB,iBAELwB,EAAKzB,uJAsBA,IAAAsC,EAAAjD,KACHa,EAAa,GACbC,EAAmB,GAIvBH,MAAMuC,6GAAmFlD,KAAKkC,MAAM3B,cAAcC,IAAM,IAAMR,KAAKkC,MAAM3B,cAAcG,IAAM,2EAC5JK,KAAK,SAASoC,GAAmC,OAAvBP,QAAQC,IAAIM,GAAkBA,EAASlC,SACjEF,KAAM,SAAAE,GACNA,EAAKmC,QAAQlC,QAAS,SAACmC,GACtBxC,EAAWO,KAAK,CAACZ,IAAMa,OAAOgC,EAAK3B,SAAS4B,SAAS9C,KAAME,IAAMW,OAAOgC,EAAK3B,SAAS4B,SAAS5C,KAAMa,OAAQ,QAC7GT,EAAiBM,KAAK,CAACI,eAAgB6B,EAAKE,KAAM7B,SAAU2B,EAAK3B,SAAS4B,SAAU7B,QAAS4B,EAAKG,SAAU3B,QAAS,GAAI4B,SAAUJ,EAAKI,SAAU7B,eAAiByB,EAAKK,OAAQ3B,aAAa,EAAOJ,QAAS,GAAIJ,OAAQ8B,EAAKM,UAG/NV,EAAKrD,MAAMoC,WAAWnB,GACtBoC,EAAKrD,MAAMqC,eAAenB,GAC1B8B,QAAQC,IAAI,4DAKb7C,KAAK4D,+CAIG,IAAAC,EAAA7D,KAGF8D,EAAO,CAACC,IAAM,wDAAyDC,WAAa,CAACC,MAAQ,GAAIC,OAAS,KAC1GC,EAAmBC,uBAAaC,wBAAc,SAAAzE,GAAK,OAExD0E,EAAAC,EAAAC,cAACC,EAAA,UAAD,CACAlE,cAAkBX,EAAM8E,OACxBvC,YAAgBvC,EAAM+E,KACtBC,QAAWhF,EAAMgF,QACjBC,eAAgB,SAAAC,GAAC,OAAIjB,EAAKkB,gBAAgBD,KAG1CR,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQjC,SAAU5C,EAAM8E,OAAQZ,KAAQA,EAAOkB,WAAW,EAAMC,UAAWpB,EAAKzD,kBAC/EyD,EAAKjE,MAAMsF,QAAQC,IAAI,SAACC,EAAQC,GAAY,OAAOf,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQjC,SAAU4C,EAAQE,IAAK,MAAQD,UAQ5F,OAECf,EAAAC,EAAAC,cAAA,WACUF,EAAAC,EAAAC,cAACL,EAAD,CACNoB,aAxBW,gIAyBXC,eAAgBlB,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEvB,OAAM,UACpCwB,iBAAmBpB,EAAAC,EAAAC,cAAA,OAAKmB,GAAG,iBAC3BC,WAAatB,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEvB,OAAM,UAEjCQ,OAAU1E,KAAKkC,MAAM3B,cACrBoE,KAAQ3E,KAAKkC,MAAMC,YACnByC,QAAW5E,KAAKJ,MAAMgF,QACtBM,QAAWlF,KAAKJ,MAAMsF,kBA9GXW,IAAMC,0IC6DTC,cAlEd,SAAAA,EAAYnG,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA+F,IACjBlG,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAiG,GAAA5F,KAAAH,KAAMJ,KASPoG,aAAe,SAAClB,GACfjF,EAAKS,SAAS,CAAC2F,OAAQnB,EAAEoB,OAAOC,SAXftG,EAclBuG,YAAc,SAACtB,GACdjF,EAAKS,SAAS,CAAC+F,MAAOvB,EAAEoB,OAAOC,SAfdtG,EAkBlByG,cAAgB,SAACxB,GAChBjF,EAAKS,SAAS,CAACiG,QAASzB,EAAEoB,OAAOC,SAnBhBtG,EAsBlB2G,WAAa,SAAC1B,GACbjF,EAAKS,SAAS,CAAC2F,OAAQ,GAAII,MAAO,EAAGE,QAAU,KAC/CzB,EAAE2B,kBAxBe5G,EA4BlB6G,WAAa,SAAC5B,EAAD6B,GAAA,IAAMjD,EAANiD,EAAMjD,OAANiD,EAAcC,UAAd,OAA8B/G,EAAKS,SAAS,CAAE+F,MAAO3C,KA5BhD7D,EA8BlBgH,aAAe,SAAC/B,GACfjF,EAAKD,MAAMkH,mBAAmBhC,GAC9BjF,EAAK2G,WAAW1B,IA9BhBjF,EAAKqC,MAAQ,CAEZ+D,OAAQ,GACRI,MAAO,EACPE,QAAU,IANM1G,wEAmCT,IAAAuC,EAAApC,KACR,OACCsE,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CACAC,KAAQhH,KAAKJ,MAAMoH,KACnBC,QAAWjH,KAAKJ,MAAMqH,QACtBC,WAAS,EACHC,KAAO,OACPC,OAAS,YAEd9C,EAAAC,EAAAC,cAAC6C,EAAA,EAAD,CAAMC,SAAYtH,KAAK6G,aAAclB,GAAK,YACzCrB,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,KAAQjD,EAAAC,EAAAC,cAAA,8BACRF,EAAAC,EAAAC,cAAC6C,EAAA,EAAKG,MAAN,KACClD,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,SAAOiD,KAAK,OAAOlE,KAAK,YAAY4C,MAAOnG,KAAKkC,MAAM+D,OAAQyB,SAAU1H,KAAKgG,eAC7E1B,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAACmD,EAAA,EAAD,CAAQ7D,KAAK,OAAO8C,UAAW,EAAGT,MAAOnG,KAAKkC,MAAMmE,MAAOc,KAAK,QAAQS,OAAQ5H,KAAK0G,aACrFpC,EAAAC,EAAAC,cAAA,SAAOiD,KAAK,SAASlE,KAAK,eAAe4C,MAAOnG,KAAKkC,MAAMmE,QAC3D/B,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAUC,YAAc,wBAAwB3B,MAAOnG,KAAKkC,MAAMqE,QAASmB,SAAU1H,KAAKsG,cAC1FyB,IAAK,SAAAC,GACJ5F,EAAK6F,SAAWD,MAIlB1D,EAAAC,EAAAC,cAAC6C,EAAA,EAAKG,MAAN,CAAYU,QAASC,KAArB,gBA5DwBtC,IAAMC,WCyMpBsC,cAnMd,SAAAA,EAAYxI,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAoI,IACjBvI,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAsI,GAAAjI,KAAAH,KAAMJ,KAiBPyI,UAAY,WACXxI,EAAKS,SAAU,CAACgI,eAAe,KAnBdzI,EAsBlB0I,UAAY,WACX1I,EAAKS,SAAU,CAACgI,eAAe,KAvBdzI,EAsClB2I,aAAe,WACd,IAAI7G,EAAU,GACVG,EAAU,GAIR2G,EAAa5I,EAAKqC,MAAMuG,YAEA,IAA3BA,EAAW1G,aACbpB,MAAMuC,uGAA6EuF,EAAWhF,SAAW,gDACxG1C,KAAK,SAAAoC,GAAQ,OAAIA,EAASlC,SAC1BF,KAAK,SAAAsC,GAEL,IAAIqF,EAAqB,GACrBC,EAAU,cACVC,EAAQ,cAETvF,EAAKrC,OAAO6H,gBAAgBH,EAAqBrF,EAAKrC,OAAO6H,cAAcC,cAC3EzF,EAAKrC,OAAOc,UAAUA,EAAUuB,EAAKrC,OAAOc,SAC5CuB,EAAKrC,OAAO2H,UAAUA,EAAUtF,EAAKrC,OAAO2H,SAC5CtF,EAAKrC,OAAO+H,6BAA6BH,EAAQvF,EAAKrC,OAAO+H,4BAC7DpH,IAAUA,EAAU9B,EAAKqC,MAAMuG,WAAW9G,SAE7CA,EAAU,CAACkH,cAAeH,EAAoBE,MAAOA,EAAOD,QAASA,GAErEF,EAAW1G,aAAc,EACzB0G,EAAW9G,QAAUA,EACrB8G,EAAW5G,QAAUC,EAErBjC,EAAKS,SAAS,CAACmI,WAAaA,EAAYI,cAAeH,OAnExC7I,EAyElBmJ,WAAa,SAACnH,GACb,IAAM4G,EAAa5I,EAAKqC,MAAMuG,WAC9BA,EAAW5G,QAAU4G,EAAW5G,QAAQoH,OAASpH,GACjDhC,EAAKS,SAAS,CAACmI,WAAaA,KA5EX5I,EA+ElBqJ,uBAAyB,SAACC,GAEzB,OADmBA,EAAatJ,EAAKqC,MAAMuG,WAAW5G,QAAQuH,QAhF7CvJ,EAoFlBwJ,yBAA2B,SAACC,GAI3B,IAHA,IAAMb,EAAa5I,EAAKqC,MAAMuG,WAC1Bc,EAAW,EAEPC,EAAE,EAAGA,EAAE3J,EAAKqC,MAAMuG,WAAW5G,QAAQuH,OAAQI,IAAK,CAEzDD,GADkBlI,OAAOxB,EAAKqC,MAAMuG,WAAW5G,QAAQ2H,GAAG9F,QAIxD+E,EAAW7G,eAAiB/B,EAAKqJ,uBAAuBK,GACxD1J,EAAKS,SAAS,CAACmI,WAAaA,KA9Fd5I,EAiGlB4J,YAAc,SAAC3E,GACdjF,EAAK2I,eACL3I,EAAK6J,iBAnGY7J,EAsGlBiH,mBAAqB,SAAChC,GACrB,IAAOpB,EAAS,CAACiG,YAAgB7E,EAAEoB,OAAO0D,SAAS,GAAGzD,MAAOzC,OAAWoB,EAAEoB,OAAO0D,SAAS,GAAGzD,MAAO0D,KAAQ/E,EAAEoB,OAAO0D,SAAS,GAAGzD,MAAO2D,0BAA8B,gBAAiBC,kBAAsBC,IAAMrG,MAAO,eAC1N9D,EAAKmJ,WAAWtF,GAChB7D,EAAKwJ,yBAAyBvE,EAAEoB,OAAO0D,SAAS,GAAGzD,OACnDtG,EAAKwI,YACAxI,EAAKqC,MAAM+H,aACfpK,EAAKqK,gBAENpF,EAAE2B,kBA3GF5G,EAAKqC,MAAQ,CACZ+H,aAAa,EACbE,aAAc,EACd7B,eAAgB,EAChBG,WAAY7I,EAAM6I,WAClBI,cAAe,IARChJ,yFAYQuK,GAChBA,EAAU3B,aAAezI,KAAKkC,MAAMuG,YACnCzI,KAAKM,SAAS,CAACmI,WAAa2B,EAAU3B,qDAahDzI,KAAKM,SAAU,CAAC2J,aAAejK,KAAKkC,MAAM+H,sDAI1CjK,KAAKM,SAAU,CAAC6J,aAAenK,KAAKkC,MAAMiI,eAEX,IAA3BnK,KAAKkC,MAAM+H,aACdjK,KAAKkK,iDA+EE,IAAA9H,EAAApC,KAEFqK,EAAW,yEAA0ErK,KAAKkC,MAAMuG,WAAW/G,SAASlB,IAAK,IAAMR,KAAKkC,MAAMuG,WAAW/G,SAAShB,IAAI,2EAExK,OAEC4D,EAAAC,EAAAC,cAAA,OAAK8F,UAAU,cAEdhG,EAAAC,EAAAC,cAAA,UAAKxE,KAAKkC,MAAMuG,WAAWjH,gBAE3B8C,EAAAC,EAAAC,cAAA,OAAKmB,GAAG,kBAAR,oBAA2C3F,KAAKkC,MAAMuG,WAAW7G,gBAEjE0C,EAAAC,EAAAC,cAAA,KAAG8F,UAAU,WAAWtK,KAAKkC,MAAMuG,WAAWhH,SAE9C6C,EAAAC,EAAAC,cAAC2D,EAAA,EAAD,CAAQoC,SAAO,EAAC3F,QAAS,SAAAE,GAAC,OAAI1C,EAAKqH,YAAY3E,IAAIW,MAAO,CAAC+E,aAAc,SACvExK,KAAKkC,MAAMiI,YAAc,gBAAkB,WAI7C7F,EAAAC,EAAAC,cAACiG,EAAD,CACCzD,KAAMhH,KAAKkC,MAAMoG,cACjBrB,QAAWjH,KAAKqI,UAChBhD,MAASrF,KAAKJ,MAAMyF,MACpByB,mBAAsB9G,KAAK8G,qBAG5BxC,EAAAC,EAAAC,cAACkG,EAAA,EAAWC,MAAZ,CAAkBC,UAAW,UAAWC,SAAU,KACjD7K,KAAKkC,MAAMiI,YACX7F,EAAAC,EAAAC,cAAA,OAAKmB,GAAG,WAEgC,IAApC3F,KAAKkC,MAAM2G,cAAcO,OAC3B9E,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACsG,EAAA,EAAD,CAASC,UAAQ,GAACzG,EAAAC,EAAAC,cAAA,mCAAlB,IAAqDF,EAAAC,EAAAC,cAAA,WAAMF,EAAAC,EAAAC,cAAA,WAA3D,kBACCF,EAAAC,EAAAC,cAACsG,EAAA,EAAD,CAASC,UAAQ,GAAjB,IAAmBzG,EAAAC,EAAAC,cAAA,2BAAnB,mBACAF,EAAAC,EAAAC,cAACsG,EAAA,EAAD,CAASC,UAAQ,GAAjB,IAAmBzG,EAAAC,EAAAC,cAAA,6BAAnB,IAAgDF,EAAAC,EAAAC,cAAA,4BAAhD,KACoC,MAAlCxE,KAAKkC,MAAMuG,WAAW/G,SAAoB,4BAA8B4C,EAAAC,EAAAC,cAACwG,EAAA,EAAD,CAAOC,IAAKZ,EAAUlD,KAAK,QAAQmD,UAAU,WAEvHhG,EAAAC,EAAAC,cAAA,WACiD,MAA/CxE,KAAKkC,MAAMuG,WAAW9G,QAAQkH,cAAyB,gBACxDvE,EAAAC,EAAAC,cAACsG,EAAA,EAAD,CAASC,UAAQ,GAACzG,EAAAC,EAAAC,cAAA,mCAAlB,IAAqDF,EAAAC,EAAAC,cAAA,WAAMF,EAAAC,EAAAC,cAAA,WAC1DxE,KAAKkC,MAAMuG,WAAW9G,QAAQkH,cAAc1D,IAAI,SAAC+F,EAAG7F,GAAJ,OAChDf,EAAAC,EAAAC,cAAA,KAAGc,IAAMD,GAAT,IAAmB6F,EAAnB,QAIF5G,EAAAC,EAAAC,cAACsG,EAAA,EAAD,CAASC,UAAQ,GAAjB,IAAmBzG,EAAAC,EAAAC,cAAA,2BAAnB,IAA+CxE,KAAKkC,MAAMuG,WAAW9G,QAAQiH,MAA7E,KACAtE,EAAAC,EAAAC,cAACsG,EAAA,EAAD,CAASC,UAAQ,GAAjB,IAAmBzG,EAAAC,EAAAC,cAAA,6BAAnB,IAAgDF,EAAAC,EAAAC,cAAA,aAAKxE,KAAKkC,MAAMuG,WAAW9G,QAAQgH,QAAnC,KAAhD,KACArE,EAAAC,EAAAC,cAACwG,EAAA,EAAD,CAAOC,IAAKZ,EAAUlD,KAAK,QAAQmD,UAAU,WAK/ChG,EAAAC,EAAAC,cAAC2D,EAAA,EAAD,CAAQgD,WAAS,EAACvG,QAAS5E,KAAKuI,UAAW9C,MAAO,CAAC+E,aAAc,SAAjE,cAC2C,IAAzCxK,KAAKkC,MAAMuG,WAAW5G,QAAQuH,OAAiB,0BAA4B,GAC5EpJ,KAAKkC,MAAMuG,WAAW5G,QAAQsD,IAAI,SAACtD,EAASwD,GAC7C,OAAOf,EAAAC,EAAAC,cAACsG,EAAA,EAAD,CAASxF,IAAK,MAAQD,EAAOiF,UAAU,WAC3ChG,EAAAC,EAAAC,cAAA,OAAK8F,UAAU,gBACiB,MAA7BzI,EAAQkI,kBAA6BzF,EAAAC,EAAAC,cAAA,OAAKyG,IAAKG,IAASd,UAAU,uBAAuBe,IAAKxJ,EAAQ8H,cAAiBrF,EAAAC,EAAAC,cAAA,OAAKyG,IAAKpJ,EAAQkI,kBAAmBO,UAAU,uBAAuBe,IAAKxJ,EAAQ8H,eAE7MrF,EAAAC,EAAAC,cAAA,KAAG8F,UAAU,UACa,MAAvBzI,EAAQ8H,YAAuB,YAAarF,EAAAC,EAAAC,cAAA,SAAI3C,EAAQ8H,aACnB,MAArC9H,EAAQiI,0BAAqC,GAAKxF,EAAAC,EAAAC,cAAA,KAAG8F,UAAU,oBAAb,QAAsCzI,EAAQiI,4BAEnGxF,EAAAC,EAAAC,cAAA,OAAK8F,UAAU,UACM,MAAlBzI,EAAQ6B,OAAkBY,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,mBAAH,cAAiCF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,mBAAaF,EAAAC,EAAAC,cAACmD,EAAA,EAAD,CAAQ7D,KAAK,OAAOwH,cAAezJ,EAAQ6B,OAAQkD,UAAW,EAAG2E,UAAQ,KACtI,MAAhB1J,EAAQgI,KAAgBvF,EAAAC,EAAAC,cAAA,aAAIF,EAAAC,EAAAC,cAAA,sBAAJ,gBAAuCF,EAAAC,EAAAC,cAAA,aAAIF,EAAAC,EAAAC,cAAA,sBAAJ,IAAsB3C,EAAQgI,MAC1E,gBAAlBhI,EAAQ8B,MAA4BW,EAAAC,EAAAC,cAAA,OAAK8F,UAAU,QAAQhG,EAAAC,EAAAC,cAAA,KAAG8F,UAAU,UAAUzI,EAAQ8B,QAAoB,QAMtH,UACFW,EAAAC,EAAAC,cAAA,OAAK8F,UAAU,QAAQhG,EAAAC,EAAAC,cAAA,KAAG8F,UAAU,UAAUtK,KAAKkC,MAAMuG,WAAWlH,kBA5L/CsE,IAAMC,oBCsDhB0F,sBAvDd,SAAAA,EAAY5L,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwL,IACjB3L,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA0L,GAAArL,KAAAH,KAAMJ,KAOP6L,WAAa,SAAC3G,GACbjF,EAAKS,SAAS,CAACiD,KAAMuB,EAAEoB,OAAOC,SATbtG,EAYlB2G,WAAa,SAAC1B,GACbjF,EAAKS,SAAS,CAACiD,KAAO,KACtBuB,EAAE2B,kBAde5G,EAkBlByH,SAAW,SAACxC,GACXjF,EAAKD,MAAM0H,SAASxC,GACpBjF,EAAK2G,WAAW1B,IAjBhBjF,EAAKqC,MAAQ,CACZqB,KAAO,IAJS1D,wEA0BjB,OAECyE,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CACAG,WAAS,EACTF,KAAMhH,KAAKJ,MAAMoH,KACXC,QAASjH,KAAKJ,MAAMqH,QACpBE,KAAO,OACPC,OAAS,YAEd9C,EAAAC,EAAAC,cAAC6C,EAAA,EAAD,CAAMC,SAAUtH,KAAKsH,UACpBhD,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,KAAQjD,EAAAC,EAAAC,cAAA,kCACRF,EAAAC,EAAAC,cAAC6C,EAAA,EAAKG,MAAN,KACClD,EAAAC,EAAAC,cAAA,4CACAF,EAAAC,EAAAC,cAACkH,EAAA,EAAD,CAAOC,OAAK,EAAC7D,YAAY,wBAAwB3B,MAAOnG,KAAKkC,MAAMqB,KAAMmE,SAAU1H,KAAKyL,aACxFnH,EAAAC,EAAAC,cAAA,SAAOjB,KAAO,MAAMkE,KAAO,SAAStB,MAASnG,KAAKJ,MAAMY,MACxD8D,EAAAC,EAAAC,cAAA,SAAOjB,KAAO,MAAMkE,KAAO,SAAStB,MAASnG,KAAKJ,MAAMc,OAEzD4D,EAAAC,EAAAC,cAAC6C,EAAA,EAAKG,MAAN,CAAYU,QAASC,KAArB,qBA5C4BtC,IAAMC,8BC+DxB8F,cA9Dd,SAAAA,EAAYhM,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA4L,IACjB/L,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8L,GAAAzL,KAAAH,KAAMJ,KASPiM,eAAiB,SAAC/G,GACjBjF,EAAKS,SAAS,CAACwL,SAAUhH,EAAEoB,OAAOC,SAXjBtG,EAclBkM,eAAiB,SAACjH,GACjBjF,EAAKS,SAAS,CAAC0L,SAAUlH,EAAEoB,OAAOC,SAfjBtG,EAkBlB2G,WAAa,SAAC1B,GACbjF,EAAKS,SAAS,CAACwL,SAAU,GAAIE,SAAU,KACvClH,EAAE2B,kBApBe5G,EAuBlBgH,aAAe,SAAC/B,GACfjF,EAAKD,MAAMqM,iBAAiBnH,GAC5BjF,EAAK2G,WAAW1B,IAtBhBjF,EAAKqC,MAAQ,CACb4J,SAAW,GACXE,SAAW,IALMnM,wEA6BjB,OACCyE,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAC6C,EAAA,EAAD,CAAMC,SAAYtH,KAAK6G,cACtBvC,EAAAC,EAAAC,cAAC6C,EAAA,EAAKsD,MAAN,KACCrG,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAC6C,EAAA,EAAKqE,MAAN,CACCQ,OAAK,EACLjI,MAAO,EACP6D,YAAY,eACZ3B,MAAOnG,KAAKkC,MAAM4J,SAClBpE,SAAU1H,KAAK6L,eACfpE,KAAK,SACL0E,IAAI,IACJC,IAAI,MAEL9H,EAAAC,EAAAC,cAAC6C,EAAA,EAAKqE,MAAN,CACCQ,OAAK,EACLjI,MAAO,EACP6D,YAAY,eACZ3B,MAAOnG,KAAKkC,MAAM8J,SAClBtE,SAAU1H,KAAK+L,eACftE,KAAK,WAENnD,EAAAC,EAAAC,cAAC2D,EAAA,EAAD,CAAQoC,SAAO,EAAC9C,KAAK,SAAS9B,GAAG,aAAYrB,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAM9I,KAAK,sBAtDpCsC,IAAMC,oBC2JhBwG,cAhJb,SAAAA,EAAY1M,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAsM,IAChBzM,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAwM,GAAAnM,KAAAH,KAAMJ,KAeRoC,WAAa,SAACnB,GACZ,IAAMqE,EAAUrF,EAAKqC,MAAMgD,QAAQqH,OAAO,SAAAC,GAAC,MAAkB,eAAbA,EAAEjL,QAAwC,gBAAbiL,EAAEjL,SAA2B0H,OAAOpI,GACjHhB,EAAKS,SAAS,CAAC4E,QAAUA,KAlBTrF,EAqBlBoC,eAAiB,SAACnB,GAChB,IAAM2L,EAAU5M,EAAKqC,MAAMwK,YAAYH,OAAO,SAAAvE,GAAC,MAAkB,eAAbA,EAAEzG,QAAwC,gBAAbyG,EAAEzG,SAA2B0H,OAAOnI,GACrHjB,EAAKS,SAAS,CAACoM,YAAcD,KAvBb5M,EA0BlB8M,cAAgB,SAACnL,EAAgBK,GAC/B,IAAM6K,EAAc7M,EAAKqC,MAAMwK,YAG/B/L,MAAM,4DAA8Dd,EAAKqC,MAAM0K,OAAS,IAAM/M,EAAKqC,MAAM2K,OAAS,gDACjH9L,KAAK,SAAAoC,GAAQ,OAAIA,EAASlC,SAC1BF,KAAK,SAAAE,GACJ,IAAMD,EAASC,EAAKmC,QAAQ,GAC5BvD,EAAKS,SAAU,CAACoM,YAAaA,EAAYzD,OAAO,CAAC,CAACzH,eAAiBA,EAAgBC,QAAST,EAAO8L,kBAAmBjL,QAASA,EAASH,SAAUV,EAAOU,SAAS4B,SAAS1B,eAAgB,EAAEiH,cAAc,GAAItH,OAAS,cAAeQ,aAAa,UAlCtOlC,EAsClBwI,UAAY,WACVxI,EAAKS,SAAU,CAACyM,eAAe,KAvCflN,EA0ClB0I,UAAY,WACV1I,EAAKS,SAAU,CAACyM,eAAe,KA3CflN,EA8ClBmN,UAAY,SAACxM,EAAKc,EAAMC,GACtB,IAAM2D,EAAUrF,EAAKqC,MAAMgD,QAC3BrF,EAAKS,SAAU,CAAC4E,QAASA,EAAQ+D,OAAO,CAAC,CAACzI,IAAMA,EAAME,IAAMY,EAAMC,OAAQA,QAhD1D1B,EAmDlB4J,YAAc,SAAC3E,GACbjF,EAAK0I,YACL1I,EAAKS,SAAS,CAACsM,OAAQ9H,EAAErE,OAAOD,MAAOqM,OAAQ/H,EAAErE,OAAOC,SArDxCb,EAwDlBgH,aAAe,SAAC/B,GACdjF,EAAK8M,cAAc7H,EAAEoB,OAAO0D,SAAS,GAAGzD,MAAO,IAC/CtG,EAAKmN,UAAUnN,EAAKqC,MAAM0K,OAAQ/M,EAAKqC,MAAM2K,OAAQ,eACrDhN,EAAKwI,YACLvD,EAAE2B,kBA5Dc5G,EA+DlBoM,iBAAmB,SAACnH,GACdA,EAAEoB,OAAO0D,SAAS,GAAGzD,OAAO,GAAKrB,EAAEoB,OAAO0D,SAAS,GAAGzD,OAAQ,GAAKrB,EAAEoB,OAAO0D,SAAS,GAAGzD,OAAO,GAAKrB,EAAEoB,OAAO0D,SAAS,GAAGzD,OAAQ,EACnItG,EAAKS,SAAS,CAAE2M,aAAcnI,EAAEoB,OAAO0D,SAAS,GAAGzD,MAAO+G,aAAcpI,EAAEoB,OAAO0D,SAAS,GAAGzD,QACtFgH,MAAM,qCAhEftN,EAAKqC,MAAQ,CACXgD,QAAU,GACVwH,YAAa,GAEbE,OAAQ,EACRC,OAAQ,EAERE,eAAe,EAEfE,aAAe,EACfC,aAAc,GAZArN,wEAsET,IAAAuC,EAAApC,KAEHoN,EAAepN,KAAKkC,MAAMwK,YAAYH,OAAS,SAAAvE,GACnD,OAAOA,EAAEpG,gBAAkBQ,EAAKF,MAAM+K,cAAgBjF,EAAEpG,gBAAkBQ,EAAKF,MAAMgL,eAGrF,OACE5I,EAAAC,EAAAC,cAAA,OAAKmB,GAAG,QAENrB,EAAAC,EAAAC,cAAA,OAAKmB,GAAG,UACRrB,EAAAC,EAAAC,cAAC6I,EAAA,EAAKC,IAAN,KACEhJ,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAQgG,UAAU,OAAO5H,GAAG,SAA5B,uBAGFrB,EAAAC,EAAAC,cAAC6I,EAAA,EAAKC,IAAN,CAAU3H,GAAG,eACXrB,EAAAC,EAAAC,cAACgJ,EAAD,CAAYvB,iBAAkBjM,KAAKiM,qBAKrC3H,EAAAC,EAAAC,cAAA,OAAKmB,GAAG,aACRrB,EAAAC,EAAAC,cAAC6I,EAAA,EAAKC,IAAN,KACEhJ,EAAAC,EAAAC,cAAC6I,EAAA,EAAD,CAAMI,QAAS,EAAGC,WAAS,GAEzBpJ,EAAAC,EAAAC,cAAC6I,EAAA,EAAKM,OAAN,CAAahI,GAAG,kBACdrB,EAAAC,EAAAC,cAACoJ,EAAD,CACAjI,GAAG,MACDT,QAASlF,KAAKkC,MAAMgD,QACpBN,QAAS5E,KAAKyJ,YACdzH,WAAchC,KAAKgC,WACnBC,eAAiBjC,KAAKiC,kBAI1BqC,EAAAC,EAAAC,cAAC6I,EAAA,EAAKM,OAAN,CAAahI,GAAG,YASbyH,EAAajI,IAAI,SAAChE,EAAMkE,GACvB,OAAOf,EAAAC,EAAAC,cAACsG,EAAA,EAAD,CAAS+C,QAAM,EAACvI,IAAKD,GACpBf,EAAAC,EAAAC,cAACsJ,EAAD,CAEArF,WAAYtH,EACZ+D,QAAW9C,EAAKF,MAAMgD,QAEtByH,cAAevK,EAAKuK,oBAQhCrI,EAAAC,EAAAC,cAACuJ,EAAD,CACEzG,SAAUtH,KAAK6G,aACfG,KAAQhH,KAAKkC,MAAM6K,cACnB9F,QAAWjH,KAAKqI,UAEhB7H,IAAOR,KAAKkC,MAAM0K,OAClBlM,IAAOV,KAAKkC,MAAM2K,oBAvId/G,aCJZkI,EAAcC,QACW,cAA7BC,OAAO5K,SAAS6K,UAEe,UAA7BD,OAAO5K,SAAS6K,UAEhBD,OAAO5K,SAAS6K,SAASC,MACvB,2DAsCN,SAASC,EAAgBC,GACvBjM,UAAUkM,cACPC,SAASF,GACTvN,KAAK,SAAA0N,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACtCD,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBzM,QACfG,UAAUkM,cAAcO,WAK1BlM,QAAQC,IAAI,6CAKZD,QAAQC,IAAI,2CAMrBkM,MAAM,SAAAjM,GACLF,QAAQE,MAAM,4CAA6CA,YCtEjEkM,IAASC,OAAO3K,EAAAC,EAAAC,cAAC0K,EAAD,CAAKC,KAFV,sBAGVC,SAASC,eAAe,SDUV,WACb,GAA6C,kBAAmBhN,UAAW,CAGzE,GADkB,IAAIiN,IAAIC,yBAAwBrB,OAAO5K,UAC3CkM,SAAWtB,OAAO5K,SAASkM,OAIvC,OAGFtB,OAAOuB,iBAAiB,OAAQ,WAC9B,IAAMnB,EAAK,GAAArF,OAAMsG,yBAAN,sBAEPvB,GAiDV,SAAiCM,GAE/B3N,MAAM2N,GACHvN,KAAK,SAAAoC,GAGkB,MAApBA,EAASuM,SACuD,IAAhEvM,EAASwM,QAAQC,IAAI,gBAAgBC,QAAQ,cAG7CxN,UAAUkM,cAAcuB,MAAM/O,KAAK,SAAA0N,GACjCA,EAAasB,aAAahP,KAAK,WAC7BmN,OAAO5K,SAAS0M,aAKpB3B,EAAgBC,KAGnBS,MAAM,WACLnM,QAAQC,IACN,mEArEAoN,CAAwB3B,GAIxBjM,UAAUkM,cAAcuB,MAAM/O,KAAK,WACjC6B,QAAQC,IACN,+GAMJwL,EAAgBC,MCpCxB4B","file":"static/js/main.11a06044.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/no-image-icon.8b3fddaa.jpg\";","import React  from 'react';\r\nimport {\r\n\twithScriptjs,\r\n  withGoogleMap,\r\n  GoogleMap,\r\n  Marker,\r\n} from \"react-google-maps\";\r\nimport './Map.css';\r\n\r\nclass Map extends React.Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\tdefaultCenter : {lat: -33.818800, lng: 151.209300},\r\n      \tdefaultZoom : 17\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tonMarkerDragEnd = (evt) => { \r\n\t\tthis.setState({defaultCenter: {lat : evt.latLng.lat(), lng : evt.latLng.lng()} })\r\n\t\tthis.fetch()\r\n\t}\r\n\r\n\tgetLocation(){\r\n\r\n\t\tnavigator.geolocation.getCurrentPosition((position) => {\r\n\t\t\tthis.setState({defaultCenter: {lat : position.coords.latitude, lng : position.coords.longitude}})\r\n\t\t\tthis.fetchLocalJson()\r\n\t\t\tconsole.log('gps allowed')\r\n\t\t\tthis.fetch()\r\n\t\t},\r\n\t\t(error) => { \r\n\t\t\tif (error.code === error.PERMISSION_DENIED)\r\n\t\t\t\tthis.fetchLocalJson()\r\n\t\t\t\t//console.log('gps denied')\r\n\t\t\t\tthis.fetch()\r\n\t\t}); \r\n\r\n\t}\r\n\r\n\tfetchLocalJson = () => {\r\n\t\tlet newMarkers = []\r\n\t\tlet newAddRestaurant = []\r\n\r\n\t\tfetch('info.json')\r\n\t\t.then(result => result.json() )\r\n\t\t.then(json =>{\r\n\t\t\tjson.forEach(rest => {\r\n\t\t\t\tnewMarkers.push({lat : Number(rest.lat), lng : Number(rest.long), source : 'Local JSON'})\r\n\t\t\t\tnewAddRestaurant.push({restaurantName: rest.restaurantName, address: rest.address, geometry:{ \"lat\" : rest.lat, \"lng\" : rest.long}, details:{}, average_rating : rest.average_rating, ratings: rest.reviews, has_reviews: true, source: 'Local JSON'})\r\n\t\t\t})\r\n\t\t\tthis.props.addMarkers(newMarkers)\r\n\t\t\tthis.props.addRestaurants(newAddRestaurant)\r\n\t\t\t//console.log('json fetch');\r\n\t\t})\r\n\t} \r\n\r\n\tfetch() {\r\n\t\tlet newMarkers = []\r\n\t\tlet newAddRestaurant = []\r\n\t\tconst proxy = 'https://cors-anywhere.herokuapp.com/'\r\n\t\tconst myKey =\"AIzaSyCmArgNkWtVgR6YADL6re2urJwTFtoLdeE\"\r\n\r\n\t\tfetch(proxy + 'https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=' + this.state.defaultCenter.lat + ',' + this.state.defaultCenter.lng + '&radius=500&type=restaurant&key=' + myKey )\r\n\t\t.then(function(response) { console.log(response); return response.json(); } )\r\n\t\t.then (json  => {\r\n\t\t\tjson.results.forEach( (data) => {\r\n\t\t\t\tnewMarkers.push({lat : Number(data.geometry.location.lat), lng : Number(data.geometry.location.lng), source: 'API'})\r\n\t\t\t\tnewAddRestaurant.push({restaurantName: data.name, geometry: data.geometry.location, address: data.vicinity, ratings: [], place_id: data.place_id, average_rating : data.rating, has_reviews: false, details: {}, source: data.scope})\r\n\t\t\t\t//console.log(data.rating);\r\n\t\t\t})\r\n\t\t\tthis.props.addMarkers(newMarkers)\r\n\t\t\tthis.props.addRestaurants(newAddRestaurant)\r\n\t\t\tconsole.log('api fetch'); \r\n\t\t})\t\t\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getLocation()\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tconst myKey =\"AIzaSyCmArgNkWtVgR6YADL6re2urJwTFtoLdeE\"\r\n\t\tconst gMapUrl = \"https://maps.googleapis.com/maps/api/js?key=\" + myKey + \"&v=3.exp&libraries=geometry,drawing,places\"\r\n\t\tconst icon = {url : 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png', scaledSize : {width : 42, height : 42 }};\r\n\t\tconst GoogleMapDisplay = withScriptjs(withGoogleMap(props => (\r\n\t\t\t\r\n\t\t\t<GoogleMap\r\n\t\t\tdefaultCenter = { props.center }\r\n\t\t\tdefaultZoom = { props.zoom }\r\n\t\t\tonClick = {props.onClick}\r\n\t\t\tonCenterChange={e => this.updateMapCenter(e)}\r\n\t\t\t>\r\n\r\n\t\t\t<Marker position={props.center} icon = {icon}  draggable={true} onDragEnd={this.onMarkerDragEnd}/>\r\n\t\t\t{this.props.markers.map((marker, index) => { return(<Marker position={marker} key={\"key\" + index} />) })}\r\n\r\n\t\t\t</GoogleMap>\r\n\r\n\t\t\t)\r\n\r\n\t\t));\r\n\r\n\t\treturn(\r\n\t\t\t\r\n\t\t\t<div>\r\n\t\t\t\t{true && <GoogleMapDisplay\r\n\t\t\t\t\t\t\tgoogleMapURL= {gMapUrl}\r\n\t\t\t\t\t\t\tloadingElement={<div style={{ height: `100%` }} />}\r\n\t\t\t\t\t\t\tcontainerElement={ <div id='mapContainer' /> }\r\n\t\t\t\t\t\t\tmapElement={ <div style={{ height: `100%` }} /> }\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tcenter = {this.state.defaultCenter}\r\n\t\t\t\t\t\t\tzoom = {this.state.defaultZoom}\r\n\t\t\t\t\t\t\tonClick = {this.props.onClick}\r\n\t\t\t\t\t\t\tmarkers = {this.props.markers}\r\n\t\t\t\t/>}\r\n\t\t\t</div>\r\n\t\t\t);\r\n\r\n\t}\r\n};\r\n\r\nexport default Map;","import React  from 'react';\r\nimport { Button, Header, Modal, TextArea, Form, Rating } from 'semantic-ui-react';\r\n\r\nclass NewReviewInput extends React.Component {\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\t\r\n\t\t\tauthor: '',\r\n\t\t\tstars: 0,\r\n\t\t\tcomment : ''\r\n\t\t}\r\n\t}\r\n\r\n\tupdateAuthor = (e) => {\r\n\t\tthis.setState({author: e.target.value})\r\n\t}\r\n\r\n\tupdateStars = (e) => {\r\n\t\tthis.setState({stars: e.target.value})\r\n\t}\r\n\r\n\tupdateComment = (e) => {\r\n\t\tthis.setState({comment: e.target.value})\r\n\t}\r\n\r\n\tclearField = (e) => {\r\n\t\tthis.setState({author: '', stars: 0, comment : ''})\r\n\t\te.preventDefault();\r\n\t\t\r\n\t}\r\n\r\n\thandleRate = (e, { rating, maxRating }) => this.setState({ stars: rating })\r\n\r\n\thandleSubmit = (e) => {\r\n\t\tthis.props.handleReviewSubmit(e)\r\n\t\tthis.clearField(e)\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn(\r\n\t\t\t<Modal\r\n\t\t\topen = {this.props.open}\r\n\t\t\tonClose = {this.props.onClose}\r\n\t\t\tcloseIcon\r\n        \tsize = 'mini'\r\n        \tdimmer = 'blurring'\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit = {this.handleSubmit} id = \"textarea\">\r\n\t\t\t\t\t<Header><p>Add a New Review</p></Header>\r\n\t\t\t\t\t<Form.Field >\r\n\t\t\t\t\t\t<label>Author : </label>\r\n\t\t\t\t\t\t<input type=\"text\" name=\"newAuthor\" value={this.state.author} onChange={this.updateAuthor} />\r\n\t\t\t\t\t\t<label>Star : </label>\r\n\t\t\t\t\t\t<Rating icon='star' maxRating={5} value={this.state.stars} size='large' onRate={this.handleRate}/>\r\n\t\t\t\t\t\t<input type=\"hidden\" name=\"hidden_stars\" value={this.state.stars} />\r\n\t\t\t\t\t\t<label>Review : </label>\r\n\t\t\t\t\t\t<TextArea placeholder = 'Add your review . . .' value={this.state.comment} onChange={this.updateComment}\r\n\t\t\t\t\t\tref={r => {\r\n\t\t\t\t\t\t\tthis.inputRef = r;\r\n\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t\t{ /*<input type=\"hidden\" name=\"index\" value={this.state.index} />*/ }\r\n\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t<Form.Field control={Button}>Add</Form.Field>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default NewReviewInput ;","import React  from 'react';\r\nimport { Button, Transition, Rating, Segment, Image } from 'semantic-ui-react';\r\nimport './Restaurant.css';\r\nimport logo from './user.png';\r\nimport noImage from './no-image-icon.jpg'\r\nimport NewReviewInput from './NewReviewInput.js'\r\n\r\nclass Restaurant extends React.Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tshowReviews: false,\r\n\t\t\tshowDetails : false,\r\n\t\t\tshowAddReview : false,\r\n\t\t\trestaurant: props.restaurant,\r\n\t\t\topening_hours: []\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps){\r\n        if(nextProps.restaurant !== this.state.restaurant){\r\n            this.setState({restaurant : nextProps.restaurant})\r\n        }\r\n    }\r\n\r\n\thideModal = () => {\r\n\t\tthis.setState( {showAddReview: false} )\r\n\t}\r\n\r\n\tshowModal = () => {\r\n\t\tthis.setState( {showAddReview: true} )\r\n\t}\r\n\r\n\ttoogleReviews(){\r\n\t\tthis.setState( {showReviews : !this.state.showReviews} )\r\n\t}\r\n\r\n\ttoogleDetails(){\r\n\t\tthis.setState( {showDetails : !this.state.showDetails} )\r\n\r\n\t\tif (this.state.showReviews === true) {\r\n\t\t\tthis.toogleReviews()\r\n\t\t}\r\n\t}\r\n\r\n\tfetchDetails = () => {\r\n\t\tlet details = {}\r\n\t\tlet reviews = []\r\n\t\tconst myKey =\"AIzaSyCmArgNkWtVgR6YADL6re2urJwTFtoLdeE\"\r\n\t\tconst proxy = 'https://cors-anywhere.herokuapp.com/'\r\n\t\t\r\n\t\tconst restaurant = this.state.restaurant\r\n\r\n\t\tif(restaurant.has_reviews === false){\r\n\t\t\tfetch(proxy + 'https://maps.googleapis.com/maps/api/place/details/json?placeid=' + restaurant.place_id + '&key=' + myKey)\r\n\t\t\t.then(response => response.json() )\r\n\t\t\t.then(data => {\r\n\r\n\t\t\t\tlet opening_hours_text = []\r\n\t\t\t\tlet website = \"unavailable\"\r\n\t\t\t\tlet phone = \"unavailable\"\r\n\r\n\t\t\t\tif(data.result.opening_hours){ opening_hours_text = data.result.opening_hours.weekday_text }\r\n\t\t\t\tif(data.result.reviews){ reviews = data.result.reviews } \r\n\t\t\t\tif(data.result.website){ website = data.result.website }\r\n\t\t\t\tif(data.result.international_phone_number){ phone = data.result.international_phone_number }\r\n\t\t\t\tif(details){ details = this.state.restaurant.details }\r\n\r\n\t\t\t\tdetails = {opening_hours: opening_hours_text, phone: phone, website: website}\r\n\t\t\t\t\r\n\t\t\t\trestaurant.has_reviews = true\r\n\t\t\t\trestaurant.details = details\r\n\t\t\t\trestaurant.ratings = reviews\r\n\r\n\t\t\t\tthis.setState({restaurant : restaurant, opening_hours: opening_hours_text})\r\n\t\t\t}) \r\n\t\t}\r\n\t}\r\n\r\n\r\n\taddReviews = (ratings) => {\r\n\t\tconst restaurant = this.state.restaurant\r\n\t\trestaurant.ratings = restaurant.ratings.concat(  ratings  )\r\n\t\tthis.setState({restaurant : restaurant})\r\n\t}\r\n\r\n\taverageRateValueResult = (totRateSum) => {\r\n\t\tconst rateResult = totRateSum / this.state.restaurant.ratings.length\r\n\t\treturn rateResult;\r\n\t}\r\n\r\n\taverageRatingCalculation = (myRateValue) => {\r\n\t\tconst restaurant = this.state.restaurant\r\n\t\tlet totalSum = 0\r\n\r\n\t\tfor(let i=0; i<this.state.restaurant.ratings.length; i++) {\r\n\t\t\tconst sumResult = Number(this.state.restaurant.ratings[i].rating)\r\n\t\t\ttotalSum += sumResult\r\n\t\t} \r\n\r\n    \trestaurant.average_rating = this.averageRateValueResult(totalSum)\r\n    \tthis.setState({restaurant : restaurant})\r\n  \t}\r\n\r\n\thandleClick = (e) => {\r\n\t\tthis.fetchDetails()\r\n\t\tthis.toogleDetails()\r\n\t}\r\n\r\n\thandleReviewSubmit = (e) => {\r\n\t\tconst  rating = {\"author_name\" : e.target.elements[0].value, \"rating\" : e.target.elements[1].value, \"text\": e.target.elements[2].value, 'relative_time_description' : ' A moment ago', 'profile_photo_url' : logo, scope: 'Local Input' }\r\n\t\tthis.addReviews(rating)\r\n\t\tthis.averageRatingCalculation(e.target.elements[1].value)\r\n\t\tthis.hideModal()\r\n\t\tif (!this.state.showReviews) {\r\n\t\t\tthis.toogleReviews()\r\n\t\t}\r\n\t\te.preventDefault()\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst myKey =\"AIzaSyCmArgNkWtVgR6YADL6re2urJwTFtoLdeE\"\r\n\t\tconst imageurl = \"https://maps.googleapis.com/maps/api/streetview?size=400x400&location=\" +this.state.restaurant.geometry.lat+ \",\" + this.state.restaurant.geometry.lng+\"&fov=90&heading=235&pitch=10&key=\"+ myKey\r\n\r\n\t\treturn (\r\n\t\t\t\r\n\t\t\t<div className=\"restaurant\">\r\n\r\n\t\t\t\t<h1>{this.state.restaurant.restaurantName}</h1>\r\n\r\n\t\t\t\t<div id='average_rating'>Average rating : {this.state.restaurant.average_rating}</div>\r\n\r\n\t\t\t\t<p className=\"address\">{this.state.restaurant.address}</p>\r\n\r\n\t\t\t\t<Button primary onClick={e => this.handleClick(e)} style={{marginBottom: '10px'}} >\r\n\t\t\t\t\t{this.state.showDetails ? 'Close Details' : 'Details'}\r\n\t\t\t\t</Button> \r\n\t\t\t\t\r\n\r\n\t\t\t\t<NewReviewInput\t\t\t\t\t\r\n\t\t\t\t\topen={this.state.showAddReview}\r\n\t\t\t\t\tonClose = {this.hideModal}\r\n\t\t\t\t\tindex = {this.props.index}\r\n\t\t\t\t\thandleReviewSubmit = {this.handleReviewSubmit}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Transition.Group animation={'fade up'} duration={500}>\r\n\t\t\t\t{this.state.showDetails ? \r\n\t\t\t\t\t<div id='details'>\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{( this.state.opening_hours.length === 0 ) ? \r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Segment vertical><strong> Trading hours : </strong> <br /><br /> Not available</Segment>\r\n\t\t\t\t\t\t\t \t<Segment vertical> <strong> Phone : </strong> Not available </Segment>\r\n\t\t\t\t\t\t\t \t<Segment vertical> <strong> Website : </strong> <i> Not available </i> </Segment>\r\n\t\t\t\t\t\t\t \t{(this.state.restaurant.geometry == null) ? 'Street view not available' : <Image src={imageurl} size='small' className=\"gglSt\" />}\r\n\t\t\t\t\t\t \t</div>\r\n\t\t\t\t\t\t : <div>\r\n\t\t\t\t\t\t \t\t{(this.state.restaurant.details.opening_hours == null) ? 'Not available' : \r\n\t\t\t\t\t\t\t \t\t<Segment vertical><strong> Trading hours : </strong> <br /><br /> \r\n\t\t\t\t\t\t\t \t\t{this.state.restaurant.details.opening_hours.map((t, index) =>  \r\n\t\t\t\t\t\t\t \t\t\t<p key ={index} > {t} </p>\r\n\t\t\t\t\t\t\t \t\t\t)} \r\n\t\t\t\t\t\t\t \t\t</Segment>\r\n\t\t\t\t\t\t \t\t} \r\n\t\t\t\t\t\t \t\t<Segment vertical> <strong> Phone : </strong> {this.state.restaurant.details.phone} </Segment>\r\n\t\t\t\t\t\t \t\t<Segment vertical> <strong> Website : </strong> <i> {this.state.restaurant.details.website} </i> </Segment>\r\n\t\t\t\t\t\t \t\t<Image src={imageurl} size='small' className=\"gglSt\" />\r\n\r\n\t\t\t\t\t\t \t</div>\r\n\t\t\t\t\t\t }\r\n\r\n\t\t\t\t\t\t <Button secondary onClick={this.showModal} style={{marginBottom: '10px'}} >Add Review</Button>\r\n\t\t\t\t\t\t{( this.state.restaurant.ratings.length === 0 ) ? 'No review available yet' : '' }\r\n\t\t\t\t\t\t{ this.state.restaurant.ratings.map((ratings, index) => {\r\n\t\t\t\t\t\t\treturn <Segment key={\"key\" + index} className=\"ratings\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"author_block\">\r\n\t\t\t\t\t\t\t\t\t\t\t{(ratings.profile_photo_url == null) ? <img src={noImage} className=\"ui image authorImage\" alt={ratings.author_name}/> : <img src={ratings.profile_photo_url} className=\"ui image authorImage\" alt={ratings.author_name}/>}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<p className='author'>\r\n\t\t\t\t\t\t\t\t\t\t\t{(ratings.author_name == null) ? \"Anonymous\" :<b>{ratings.author_name}</b>}\r\n\t\t\t\t\t\t\t\t\t\t\t{(ratings.relative_time_description == null) ? \"\" : <i className=\"time_description\">-----{ratings.relative_time_description}</i>}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<div className='review'>\r\n\t\t\t\t\t\t\t\t\t\t\t{(ratings.rating == null) ? <p><b>Star :</b> No rating</p> : <div><b>Star :</b><Rating icon='star' defaultRating={ratings.rating} maxRating={5} disabled /></div>}\r\n\t\t\t\t\t\t\t\t\t\t\t{(ratings.text == null) ? <p> <b>Comment :</b>\"No review\" </p> : <p> <b>Comment :</b> {ratings.text}</p>}\r\n\t\t\t\t\t\t\t\t\t\t\t{ (ratings.scope === \"Local Input\")  ? <div className=\"line\" ><i className=\"source\">{ratings.scope}</i></div>  : \"\"}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Segment>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t</div> \r\n\t\t\t\t: 'loading'}\r\n\t\t\t\t<div className=\"line\" ><i className=\"source\">{this.state.restaurant.source}</i></div>\r\n\t\t\t\t</Transition.Group>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n}\r\n\r\nexport default Restaurant;","import React  from 'react';\r\nimport { Button, Header, Modal, Input, Form } from 'semantic-ui-react';\r\nimport './NewRestaurantInput.css';\r\n\r\n\r\nclass NewRestaurantInput extends React.Component {\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tname : ''\r\n\t\t}\r\n\t}\r\n\r\n\tupdateName = (e) => {\r\n\t\tthis.setState({name: e.target.value})\r\n\t}\r\n\r\n\tclearField = (e) => {\r\n\t\tthis.setState({name : ''})\r\n\t\te.preventDefault();\r\n\t\t\r\n\t}\r\n\r\n\tonSubmit = (e) => {\r\n\t\tthis.props.onSubmit(e)\r\n\t\tthis.clearField(e)\r\n\t}\r\n\r\n\r\n\trender() {\r\n\r\n\t\treturn(\r\n\t\t\t\r\n\t\t\t<Modal\r\n\t\t\tcloseIcon\r\n\t\t\topen={this.props.open}\r\n        \tonClose={this.props.onClose}\r\n        \tsize = 'mini'\r\n        \tdimmer = 'blurring'\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={this.onSubmit}>\r\n\t\t\t\t\t<Header><p>Add a New Restaurant</p></Header>\r\n\t\t\t\t\t<Form.Field >\r\n\t\t\t\t\t\t<label>Open your own restaurant ? </label>\r\n\t\t\t\t\t\t<Input focus placeholder='Input Restaurant Name' value={this.state.name} onChange={this.updateName} />\r\n\t\t\t\t\t\t<input name = 'lat' type = 'hidden' value = {this.props.lat} />\r\n\t\t\t\t\t\t<input name = 'lng' type = 'hidden' value = {this.props.lng} />\r\n\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t<Form.Field control={Button}>Register</Form.Field>\r\n\t\t\t\t\t\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal>\r\n\t\t\t\r\n\t\t\t\r\n\t\t)\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport default NewRestaurantInput;","import React  from 'react';\r\nimport './StarFilter.css';\r\nimport { Form, Icon, Button } from 'semantic-ui-react';\r\n\r\nclass StarFilter extends React.Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\tminValue : '',\r\n\t\tmaxValue : ''\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tupdateMinValue = (e) => {\r\n\t\tthis.setState({minValue: e.target.value})\r\n\t}\r\n\r\n\tupdateMaxValue = (e) => {\r\n\t\tthis.setState({maxValue: e.target.value})\r\n\t}\r\n\r\n\tclearField = (e) => {\r\n\t\tthis.setState({minValue: '', maxValue: ''})\r\n\t\te.preventDefault();\r\n\t}\r\n\r\n\thandleSubmit = (e) => {\r\n\t\tthis.props.handleRateFilter(e);\r\n\t\tthis.clearField(e);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t<Form onSubmit = {this.handleSubmit}>\r\n\t\t\t\t<Form.Group>\r\n\t\t\t\t\t<label> Rate Filter </label>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\twidth={2}\r\n\t\t\t\t\t\tplaceholder='Minimal Rate'\r\n\t\t\t\t\t\tvalue={this.state.minValue}\r\n\t\t\t\t\t\tonChange={this.updateMinValue}\r\n\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\tmin='0'\r\n\t\t\t\t\t\tmax='5'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\twidth={2}\r\n\t\t\t\t\t\tplaceholder='Maximum Rate'\r\n\t\t\t\t\t\tvalue={this.state.maxValue}\r\n\t\t\t\t\t\tonChange={this.updateMaxValue}\r\n\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button primary type='submit' id='filterBtn'><Icon name='filter' /></Button>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t\r\n\t\t\t</Form>\r\n  \t\t\t</div>\r\n\r\n\t\t)\r\n\t}\r\n};\r\n\r\nexport default StarFilter; ","import React, { Component } from 'react';\nimport './App.css';\nimport Map from './ggl_map/Map.js';\nimport Restaurant from './Restaurant.js';\nimport NewRestaurantInput from './NewRestaurantInput.js';\nimport StarFilter from './StarFilter.js';\nimport {\n  Grid,\n  Segment,\n  Header\n} from 'semantic-ui-react';\n\n\n\nclass App extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      markers : [],\n      restaurants: [],\n\n      newLat: 0,\n      newLng: 0,\n\n      showComponent: false,\n\n      minRateValue : 0,\n      maxRateValue: 5\n    }\n  }\n\n  addMarkers = (newMarkers) => {\n    const markers = this.state.markers.filter(m => (m.source === 'Local JSON' || m.source === 'Local Input')).concat(newMarkers)\n    this.setState({markers : markers})\n  }\n\n  addRestaurants = (newAddRestaurant) => {\n    const newRest = this.state.restaurants.filter(r => (r.source === 'Local JSON' || r.source === 'Local Input')).concat(newAddRestaurant)\n    this.setState({restaurants : newRest})\n  }\n\n  addRestaurant = (restaurantName, ratings) => {\n    const restaurants = this.state.restaurants\n    const myKey =\"AIzaSyCmArgNkWtVgR6YADL6re2urJwTFtoLdeE\"\n\n    fetch(\"https://maps.googleapis.com/maps/api/geocode/json?latlng=\" + this.state.newLat + \",\" + this.state.newLng + \"&key=\" + myKey )\n    .then(response => response.json())\n    .then(json => {\n      const result = json.results[0]\n      this.setState( {restaurants: restaurants.concat([{restaurantName : restaurantName, address: result.formatted_address, ratings: ratings, geometry: result.geometry.location,average_rating: 0,opening_hours:[], source : 'Local Input', has_reviews: true }]) })\n    })\n  }\n\n  hideModal = () => {\n    this.setState( {showComponent: false} )\n  }\n\n  showModal = () => {\n    this.setState( {showComponent: true} )\n  }\n\n  addMarker = (lat, long, source) => {\n    const markers = this.state.markers\n    this.setState( {markers: markers.concat([{lat : lat , lng : long, source: source}])} )\n  }\n\n  handleClick = (e) =>{\n    this.showModal()\n    this.setState({newLat: e.latLng.lat(), newLng: e.latLng.lng() })\n  }\n\n  handleSubmit = (e) => {\n    this.addRestaurant(e.target.elements[0].value, [])\n    this.addMarker(this.state.newLat, this.state.newLng, 'Local Input')\n    this.hideModal()\n    e.preventDefault()\n  }\n\n  handleRateFilter = (e) => {\n    if (e.target.elements[0].value>=0 && e.target.elements[0].value <=5 && e.target.elements[1].value>=0 && e.target.elements[1].value <=5) {\n      this.setState({ minRateValue: e.target.elements[0].value, maxRateValue: e.target.elements[1].value })\n    } else { alert('Please input the correct number!'); }\n  }\n\n\n  render() {\n\n  const filteredRate = this.state.restaurants.filter ( r => {\n    return r.average_rating >= this.state.minRateValue && r.average_rating <= this.state.maxRateValue;\n  })\n\n    return (\n      <div id='body'>\n        {/* header */}\n        <div id='header'>\n        <Grid.Row >\n          <Header textAlign='left' id='title'> Restaurant Review</Header>\n        </Grid.Row>\n  \n        <Grid.Row id='filterBlock'>\n          <StarFilter handleRateFilter={this.handleRateFilter} />\n        </Grid.Row>\n        </div>\n\n      {/* filter, map and restaurant list */}\n        <div id='container'>\n        <Grid.Row>\n          <Grid columns={2} stackable>\n\n            <Grid.Column id='filter_and_map'>\n              <Map \n              id='map'\n                markers={this.state.markers} \n                onClick={this.handleClick}\n                addMarkers = {this.addMarkers}\n                addRestaurants= {this.addRestaurants}\n              />\n            </Grid.Column>\n\n            <Grid.Column id='restList'>\n              {/*<RestaurantList \n                restaurant={this.state.restaurants}\n                markers = {this.state.markers}\n\n                addRestaurant={this.addRestaurant}\n              />*/}\n\n\n              {filteredRate.map((rest, index) => {\n                return <Segment raised key={index}>\n                        <Restaurant\n                        \n                        restaurant={rest}\n                        markers = {this.state.markers}\n\n                        addRestaurant={this.addRestaurant}\n                        />\n                        </Segment>\n                    \n              }\n              )}\n            </Grid.Column>\n\n            <NewRestaurantInput \n              onSubmit={this.handleSubmit}\n              open = {this.state.showComponent}\n              onClose = {this.hideModal}\n\n              lat = {this.state.newLat}\n              lng = {this.state.newLng}\n            />\n          </Grid>\n          </Grid.Row>\n        </div>\n      </div>\n      );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\nimport 'semantic-ui-css/semantic.min.css';\n\nlet title =\"Restaurant Review\";\n\nReactDOM.render(<App head={title} />, \n\tdocument.getElementById('root')\n\t);\nregisterServiceWorker();\n"],"sourceRoot":""}